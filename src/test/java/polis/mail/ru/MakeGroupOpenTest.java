package polis.mail.ru;

import org.junit.After;
import org.junit.Test;

import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.is;

public class MakeGroupOpenTest extends AbstractGroupTest {

    final static String VIS_CLOSED = "BY_MEMBER_INVITATION_AND_REQUEST";
    final static String VIS_OPEN = "OPEN";

    String groupURL;

    @Test
    public void changeVisibility() {

        createDefaultClosedGroup();

        groupURL = driver.getCurrentUrl();

        navigationSteps
                .openGroupPageSettings(groupURL)
                .selectVisibility(VIS_CLOSED)
                .changeVisibilityToOpen(VIS_OPEN)
                .submitChanges();


        assertThat(isClosedGroup(groupURL), is(false));

    }


    @After
    public void cleaning() {
        deleteGroup(groupURL);
    }

}




